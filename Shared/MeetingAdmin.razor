<section class="mt-10">
    <h2 class="">Meetings</h2>
    <table>
        @if (_meetings is not null)
        {
            @if (_meetings.Count > 0)
            {
                <tr class="text-left">
                    <th>Name</th>
                    <th>Speaker</th>
                    <th>Topic</th>
                </tr>
                @foreach (var meeting in _meetings)
                {
                    <tr>
                        <td>@meeting.Name </td>
                        <td>@meeting.Speaker </td>
                        <td>@meeting.Topic </td>
                    </tr>
                }
            }
            else
            {
                <div>Nothing found</div>                
            }
        }
        else
        {
            <div>Loading...</div>
        }
            
    </table>
    
    <div class="flex mt-3">
        <button @onclick="@(() => { _displayModal = true; })" class="bg-blue-500 px-3 py-2 rounded-md text-white">Add</button>
    </div>
    
      <Modal DisplayModal="@_displayModal">
          <button @onclick="@(() => { _displayModal = false; })" class="close"><span class="close">&times;</span></button>
          <EditForm Model="@_meeting" OnValidSubmit="@HandleValidSubmit">
              <DataAnnotationsValidator />
              <ValidationSummary />
          
              <div class="flex flex-col space-y-5 my-5">
                  <div class="flex space-x-5">
                      <label for="name">Meeting Title</label>
                      <InputText class="border rounded-md" id="name" @bind-Value="_meeting.Name"/>
                  </div>
                  <div class="flex space-x-5">
                      <label for="topic">Meeting Topic</label>
                      <InputText class="border rounded-md" id="topic" @bind-Value="_meeting.Topic"/>
                  </div>
                  <div class="flex space-x-5">
                      <label for="speaker">Meeting Speaker</label>
                      <InputText class="border rounded-md" id="speaker" @bind-Value="_meeting.Speaker"/>
                  </div>
              </div>
              <button class="w-24 border border-blue-500 rounded-lg hover:bg-blue-500 hover:text-white" type="submit">Submit</button>
          </EditForm>
      </Modal>
      
</section>
